<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Class</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    body { font-family: 'Inter', sans-serif; background-color: #f0f4f8; }
  </style>
</head>
<body class="bg-gray-100 text-gray-800">
  <!-- Header (kept minimal) -->
  <header class="bg-white shadow-md">
    <nav class="container mx-auto px-6 py-6 flex items-center justify-between">
      <a href="index.html" class="inline-flex items-center gap-2 text-sm text-[#0156d2] hover:text-[#f4811f]">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
        </svg>
        Home
      </a>
      <h1 class="text-lg font-semibold text-gray-700">Classes</h1>
      <div class="w-12"></div>
    </nav>
  </header>

  <!-- Main -->
  <main class="container mx-auto px-4 sm:px-6 py-10">
    <!-- Controls -->
    <section class="mb-6">
      <div class="bg-white rounded-lg shadow p-4">
        <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
          <!-- Search -->
          <div class="relative w-full md:max-w-md">
            <input
              id="searchInput"
              type="text"
              placeholder="Search by class or teacher"
              class="w-full rounded-lg border border-gray-200 bg-gray-50 py-2.5 pl-10 pr-3 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-[#0156d2]"
            />
            <svg class="w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-4.35-4.35M10 18a8 8 0 1 1 0-16 8 8 0 0 1 0 16z"/>
            </svg>
          </div>

          <!-- Favorites toggle -->
          <label class="inline-flex items-center gap-2 cursor-pointer select-none">
            <input id="favOnly" type="checkbox" class="h-4 w-4 text-[#0156d2] rounded border-gray-300 focus:ring-[#0156d2]" />
            <span class="text-sm text-gray-700">Show favorites only</span>
          </label>
        </div>

        <!-- Day filters -->
        <div class="mt-4 overflow-x-auto">
          <div id="dayFilters" class="flex items-center gap-2 min-w-max">
            <!-- Buttons added by JS -->
          </div>
        </div>
      </div>
    </section>

    <!-- Results count -->
    <div id="resultCount" class="text-sm text-gray-600 mb-3">0 classes</div>

    <!-- Class list -->
    <section id="classGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5">
      <!-- Cards rendered by JS -->
    </section>

    <!-- Floating contact link -->
    <div class="fixed bottom-6 right-6">
      <a href="contact.html" class="w-14 h-14 bg-[#0156d2] hover:bg-[#f4811f] text-white rounded-full flex items-center justify-center shadow-lg transition-colors duration-300" aria-label="Contact">
        <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
        </svg>
      </a>
    </div>
  </main>

  <footer class="mt-12 py-6">
    <div class="container mx-auto px-6 text-center text-gray-500"></div>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Data
      const classes = [
        { id: 'ds-mon-0900', name: 'Data Structures', teacher: 'Dr. Sharma', room: 'C-201', day: 'Mon', time: '09:00–10:00', type: 'Lecture' },
        { id: 'de-mon-1100', name: 'Digital Electronics', teacher: 'Prof. Rao', room: 'E-105', day: 'Mon', time: '11:00–12:00', type: 'Lecture' },
        { id: 'os-tue-1000', name: 'Operating Systems', teacher: 'Dr. Iqbal', room: 'B-303', day: 'Tue', time: '10:00–11:00', type: 'Lecture' },
        { id: 'uiux-tue-1400', name: 'UI/UX Studio', teacher: 'Ms. Kapoor', room: 'Design Lab', day: 'Tue', time: '14:00–16:00', type: 'Lab' },
        { id: 'dbms-wed-0900', name: 'DBMS', teacher: 'Dr. Varma', room: 'C-101', day: 'Wed', time: '09:00–10:00', type: 'Lecture' },
        { id: 'nets-wed-1200', name: 'Computer Networks', teacher: 'Mr. Bose', room: 'A-207', day: 'Wed', time: '12:00–13:00', type: 'Lecture' },
        { id: 'ai-thu-1000', name: 'Intro to AI', teacher: 'Dr. Menon', room: 'AI Lab', day: 'Thu', time: '10:00–12:00', type: 'Lab' },
        { id: 'se-thu-1500', name: 'Software Engg.', teacher: 'Ms. Nair', room: 'C-202', day: 'Thu', time: '15:00–16:00', type: 'Lecture' },
        { id: 'math-fri-0900', name: 'Discrete Math', teacher: 'Dr. Singh', room: 'M-002', day: 'Fri', time: '09:00–10:00', type: 'Lecture' },
        { id: 'proj-fri-1400', name: 'Project Lab', teacher: 'Mentor Team', room: 'Innovation Hub', day: 'Fri', time: '14:00–17:00', type: 'Lab' },
        { id: 'eng-sat-1000', name: 'Technical English', teacher: 'Ms. Roy', room: 'L-010', day: 'Sat', time: '10:00–11:00', type: 'Lecture' }
      ];

      // Elements
      const grid = document.getElementById('classGrid');
      const resultCount = document.getElementById('resultCount');
      const searchInput = document.getElementById('searchInput');
      const favOnly = document.getElementById('favOnly');
      const dayFilters = document.getElementById('dayFilters');

      // Days
      const days = ['All', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
      let selectedDay = 'All';

      // Favorites
      const FAV_KEY = 'favoriteClasses';
      let favorites = JSON.parse(localStorage.getItem(FAV_KEY) || '[]');

      // Build day filter chips
      function buildDayFilters() {
        days.forEach(d => {
          const btn = document.createElement('button');
          btn.type = 'button';
          btn.textContent = d;
          btn.dataset.day = d;
          btn.className = [
            'px-3 py-1.5 text-sm rounded-full border',
            d === selectedDay
              ? 'bg-[#0156d2] text-white border-[#0156d2]'
              : 'bg-white text-gray-700 border-gray-200 hover:border-[#0156d2] hover:text-[#0156d2]'
          ].join(' ');
          btn.addEventListener('click', () => {
            selectedDay = d;
            // Update styles
            [...dayFilters.children].forEach(el => {
              const isActive = el.dataset.day === selectedDay;
              el.className = [
                'px-3 py-1.5 text-sm rounded-full border',
                isActive
                  ? 'bg-[#0156d2] text-white border-[#0156d2]'
                  : 'bg-white text-gray-700 border-gray-200 hover:border-[#0156d2] hover:text-[#0156d2]'
              ].join(' ');
            });
            render();
          });
          dayFilters.appendChild(btn);
        });
      }

      // Helpers
      const matchesSearch = (item, q) => {
        if (!q) return true;
        const s = q.toLowerCase();
        return (
          item.name.toLowerCase().includes(s) ||
          item.teacher.toLowerCase().includes(s)
        );
      };

      const matchesDay = (item, day) => {
        if (day === 'All') return true;
        return item.day === day;
      };

      const isFav = (id) => favorites.includes(id);

      // Render
      function render() {
        const q = searchInput.value.trim();
        const filtered = classes.filter(c =>
          matchesSearch(c, q) &&
          matchesDay(c, selectedDay) &&
          (!favOnly.checked || isFav(c.id))
        );

        resultCount.textContent = `${filtered.length} ${filtered.length === 1 ? 'class' : 'classes'}`;
        grid.innerHTML = '';

        filtered.forEach(item => {
          const card = document.createElement('article');
          card.className = 'bg-white rounded-xl shadow p-4 flex flex-col gap-3 border border-gray-100';

          // Top row: name + favorite star
          const top = document.createElement('div');
          top.className = 'flex items-start justify-between gap-3';

          const title = document.createElement('h2');
          title.className = 'text-base font-semibold text-gray-800';
          title.textContent = item.name;

          const favBtn = document.createElement('button');
          favBtn.type = 'button';
          favBtn.className = 'p-2 rounded-full bg-gray-50 hover:bg-gray-100 border border-gray-200';
          favBtn.setAttribute('aria-label', 'Toggle favorite');
          favBtn.innerHTML = isFav(item.id)
            ? '<svg class="w-5 h-5 text-[#f4811f]" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.802 2.035a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.802-2.035a1 1 0 00-1.176 0L6.61 16.282c-.784.57-1.838-.197-1.54-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.974 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.075-3.292z"/></svg>'
            : '<svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927l1.902 5.854a1 1 0 00.95.69h6.148l-4.974 3.615a1 1 0 00-.364 1.118l1.902 5.854-4.974-3.615a1 1 0 00-1.176 0L4.51 20.058l1.902-5.854a1 1 0 00-.364-1.118L1.074 9.471h6.148a1 1 0 00.95-.69l1.877-5.854z"/></svg>';

          favBtn.addEventListener('click', () => {
            if (isFav(item.id)) {
              favorites = favorites.filter(x => x !== item.id);
            } else {
              favorites.push(item.id);
            }
            localStorage.setItem(FAV_KEY, JSON.stringify(favorites));
            render();
          });

          top.appendChild(title);
          top.appendChild(favBtn);

          // Meta
          const meta = document.createElement('div');
          meta.className = 'text-sm text-gray-600 grid grid-cols-1 gap-1';

          const time = document.createElement('div');
          time.innerHTML = `<span class="text-gray-500">Time:</span> ${item.time}`;

          const room = document.createElement('div');
          room.innerHTML = `<span class="text-gray-500">Room:</span> ${item.room}`;

          const teacher = document.createElement('div');
          teacher.innerHTML = `<span class="text-gray-500">Teacher:</span> ${item.teacher}`;

          // Tags
          const tags = document.createElement('div');
          tags.className = 'mt-2 flex items-center gap-2';
          const tag1 = document.createElement('span');
          tag1.className = 'inline-flex items-center px-2 py-0.5 rounded-full text-xs bg-[#0156d2]/10 text-[#0156d2]';
          tag1.textContent = item.day;
          const tag2 = document.createElement('span');
          tag2.className = 'inline-flex items-center px-2 py-0.5 rounded-full text-xs bg-[#f4811f]/10 text-[#f4811f]';
          tag2.textContent = item.type;

          tags.appendChild(tag1);
          tags.appendChild(tag2);

          meta.appendChild(time);
          meta.appendChild(room);
          meta.appendChild(teacher);

          // Actions
          const actions = document.createElement('div');
          actions.className = 'mt-3 flex items-center gap-2';

          const remind = document.createElement('button');
          remind.type = 'button';
          remind.className = 'px-3 py-1.5 text-sm rounded-lg bg-[#0156d2] text-white hover:bg-[#0a4db2]';
          remind.textContent = 'Remind me';
          remind.addEventListener('click', () => {
            // Simple notification stub
            alert(`Reminder set for ${item.name} (${item.day} ${item.time})`);
          });

          actions.appendChild(remind);

          // Compose card
          card.appendChild(top);
          card.appendChild(meta);
          card.appendChild(tags);
          card.appendChild(actions);

          grid.appendChild(card);
        });
      }

      // Events
      searchInput.addEventListener('input', render);
      favOnly.addEventListener('change', render);

      // Init
      buildDayFilters();
      render();
    });
  </script>
</body>
</html>
